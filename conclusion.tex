%%%%%%%%%%%%%%%%%%%%
\chapter{Conclusion}
%%%%%%%%%%%%%%%%%%%%
% In the conclusion, you repeat the main result and finalize the discussion of
% your project. Mention the core results and why as well as how your system
% advances the status quo.
% 
% You may optionally include a subsection on future work, but aim to end with a concluding sentence on why the current results may have set the stage for the future.

In this thesis, we presented a solution to port Java to native restrictions and streamline the computation of reachability metadata. 
Java under native restrictions provides a way to quickly test a metadata configuration by avoiding the overhead of building an image.
By introducing native restrictions checks and scopes in Java, we showed that it was possible to modify the semantics of the language to match Native Image's while keeping the set of changes to Java itself to a minimum.

Java under native restrictions enabled us to validate and drive Native Image's semantics for dynamic class loading and reflection. These semantics are implemented both in written specifications and in the form of a TCK. Moreover, the TCK offers a future-proof means to assert that future versions of Native Image still behave according to the same semantics. 

Finally, to address the issues of reachability metadata collection with GraalVM's Tracing Agent, we implemented a new Tracing Agent in Java. This agent is, in essence, another language restriction that records all reflectively-accessed elements instead of enforcing native restrictions checks. The advantage of this approach is that, unlike GraalVM's agent, the Java agent follows the same semantics as Native Image. Therefore, no element is missing from the reachability metadata as a result of the JVM taking a different path during an execution run. 

% \todo{future work?} Dynamic class loading and reflection are not the only features of Java that needs reachability metadata \todo{dynamic proxies, resource bundles}
% resource bundles contains local specific resources, 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \chapter{Future Work}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% partial bytecode evaluator
% annotaitons
% build time initialization